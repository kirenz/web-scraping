!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=21)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PQ=t.document=t.Math=t.navigator=t.performance=t.WINDOW=void 0;var n=r(1).__importDefault(r(44));t.WINDOW=window,t.performance=t.WINDOW.performance,t.navigator=t.WINDOW.navigator,t.Math=t.WINDOW.Math,t.document=t.WINDOW.document,t.WINDOW.PQ=t.WINDOW.PQ||{},t.PQ=t.WINDOW.PQ,t.WINDOW.Promise||n.default.polyfill()},function(e,t,r){"use strict";r.r(t),r.d(t,"__extends",(function(){return o})),r.d(t,"__assign",(function(){return i})),r.d(t,"__rest",(function(){return a})),r.d(t,"__decorate",(function(){return s})),r.d(t,"__param",(function(){return u})),r.d(t,"__metadata",(function(){return c})),r.d(t,"__awaiter",(function(){return l})),r.d(t,"__generator",(function(){return f})),r.d(t,"__createBinding",(function(){return d})),r.d(t,"__exportStar",(function(){return v})),r.d(t,"__values",(function(){return g})),r.d(t,"__read",(function(){return p})),r.d(t,"__spread",(function(){return _})),r.d(t,"__spreadArrays",(function(){return h})),r.d(t,"__spreadArray",(function(){return y})),r.d(t,"__await",(function(){return m})),r.d(t,"__asyncGenerator",(function(){return S})),r.d(t,"__asyncDelegator",(function(){return P})),r.d(t,"__asyncValues",(function(){return T})),r.d(t,"__makeTemplateObject",(function(){return b})),r.d(t,"__importStar",(function(){return O})),r.d(t,"__importDefault",(function(){return A})),r.d(t,"__classPrivateFieldGet",(function(){return D})),r.d(t,"__classPrivateFieldSet",(function(){return I}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var i=function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function a(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}function s(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a}function u(e,t){return function(r,n){t(r,n,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))}function f(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var d=Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]};function v(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||d(t,e,r)}function g(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a}function _(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}function h(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n}function y(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function S(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(e,t||[]),i=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(e){o[e]&&(n[e]=function(t){return new Promise((function(r,n){i.push([e,t,r,n])>1||s(e,t)}))})}function s(e,t){try{(r=o[e](t)).value instanceof m?Promise.resolve(r.value.v).then(u,c):l(i[0][2],r)}catch(e){l(i[0][3],e)}var r}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function P(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,o){t[n]=e[n]?function(t){return(r=!r)?{value:m(e[n](t)),done:"return"===n}:o?o(t):t}:o}}function T(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=g(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,o){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,o,(t=e[r](t)).done,t.value)}))}}}function b(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var w=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function O(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&d(t,e,r);return w(t,e),t}function A(e){return e&&e.__esModule?e:{default:e}}function D(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function I(e,t,r,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(e,r):o?o.value=r:t.set(e,r),r}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(24),t),o(r(27),t),o(r(28),t),o(r(31),t),o(r(12),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DV_DATA_OBJECT=void 0,t.DV_DATA_OBJECT={"url":"https://pub.doubleverify.com/signals/pub.json"}},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.onError=t.track=void 0;var o=r(1),i=r(3),a=r(0),s=r(10),u=o.__importDefault(r(47)),c=o.__importDefault(r(48)),l=o.__importDefault(r(7)),f=((n={})[s.PixelParamNames.ProtocolVersion]="1",n[s.PixelParamNames.HitType]="event",n[s.PixelParamNames.EventCategory]="page",n[s.PixelParamNames.PackageVersion]="@dvpub/signals-pagetag@0.0.2",n),d=new s.PixelRequestBuilder("https://vtrk.doubleverify.com",f);t.track=function(e){var t;void 0===e&&(e={});var r=i.DV_DATA_OBJECT.ctx,n=i.DV_DATA_OBJECT.cmp,f=i.DV_DATA_OBJECT.pid,v=o.__assign(((t={})[s.PixelParamNames.ClientId]=f,t[s.PixelParamNames.CacheBuster]=c.default(),t[s.PixelParamNames.Ctx]=r||"missing",t[s.PixelParamNames.UniqueId]=l.default(),t[s.PixelParamNames.Referrer]=a.WINDOW.location.href,t),e);n&&(v[s.PixelParamNames.Cmp]=n),u.default(d.getUrl(v))};t.onError=function(e){var r,n=((r={})[s.PixelParamNames.EventAction]="error",r[s.PixelParamNames.ErrorDim]=(null==e?void 0:e.message)||"unknown error",r);t.track(n)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tagVersion=t.document=t.userAgent=t.pageHost=t.pageUrl=void 0;var n=r(2),o=r(35);t.pageUrl=(0,n.nullIfThrows)((function(){return window.location.href})),t.pageHost=(0,n.nullIfThrows)((function(){return new URL(t.pageUrl).host})),t.userAgent=(0,n.nullIfThrows)((function(){return window.navigator.userAgent})),t.document=(0,n.nullIfThrows)((function(){return window.document})),t.tagVersion=o.version},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SCRIPT_PATTERN=t.SLOT_SIGNALS=t.GLOBAL_SIGNALS=t.ALL_SIGNALS=t.TVP=t.VLP=t.BSC=t.IDS=t.LOAD_SIGNALS_FOR_SLOTS_CALL_EVENT=t.LOAD_SIGNALS_CALL_EVENT=t.PT_ON_LOAD_WITH_SIGNALS_EVENT=t.PT_ON_LOAD_EVENT=t.PT_DUPLICATED_LOAD_EVENT=t.QT_SLOT_ID_KEY=t.QT_PAGE_ID_KEY=void 0,t.QT_PAGE_ID_KEY="pts_pid",t.QT_SLOT_ID_KEY="pts_sid",t.PT_DUPLICATED_LOAD_EVENT="pq-dupl",t.PT_ON_LOAD_EVENT="load-pq",t.PT_ON_LOAD_WITH_SIGNALS_EVENT="load-pq-signals",t.LOAD_SIGNALS_CALL_EVENT="load-signals",t.LOAD_SIGNALS_FOR_SLOTS_CALL_EVENT="load-signals-slots",t.IDS="IDS",t.BSC="BSC",t.VLP="VLP",t.TVP="TVP",t.ALL_SIGNALS=[t.IDS,t.BSC,t.VLP,t.TVP],t.GLOBAL_SIGNALS=[t.IDS,t.BSC],t.SLOT_SIGNALS=[t.VLP,t.TVP],t.SCRIPT_PATTERN=/(?:http|https):\/\/[^/]+\.(?:doubleverify\.com)\/signals\/pub.js/},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0);t.default=function(e,t){for(t=e="";e++<36;t+=51*e&52?(15^e?8^(Date.now()/1e9%1+n.Math.random())%1*(20^e?16:4):4).toString(16):"-");return t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCacheStatus=t.getPerfEntry=t.getExecTime=void 0;var n=r(0),o=r(15);t.getExecTime=function(){return n.performance&&"function"==typeof n.performance.now?n.performance.now():null};t.getPerfEntry=function(e){return n.performance&&n.performance.getEntries?new Promise((function(t){return setTimeout((function(){return t(o.findInArray(n.performance.getEntriesByType("resource"),(function(t){return t.name===e})))}),0)})):Promise.resolve(null)};t.getCacheStatus=function(e){var t=e.transferSize,r=e.decodedBodySize;return t>0?"network":r>0?"cache":"unknown"}},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.getGoogleSlotTimesRequested=t.getGoogleSlotForParticipant=t.onGoogleSlotRequested=t.getSharedIdentifiers=t.identifyParticipant=t._identificationFactory=void 0;var o=r(2),i=r(32);t._identificationFactory=function(e,t,r,n){void 0===e&&(e={}),void 0===t&&(t={slots:{},impressions:{}}),void 0===r&&(r={participants:{},timesRequested:{}}),void 0===n&&(n=i.locateParticipant);return{identifyParticipant:function(i,a){var s=e[i];if(null!=s)return s;null==t.visit&&(t.visit=i);var u={visit:t.visit},c=n(a);return null!=c&&(u.slot=(0,o.getOrSet)(t.slots,c,i),u.impression=(0,o.getOrSet)(t.impressions,c,i),r.participants[i]=c),e[i]=u,u},getSharedIdentifiers:function(t){var r;return null!==(r=e[t])&&void 0!==r?r:{}},onGoogleSlotRequested:function(e){delete t.impressions[e],null==r.timesRequested[e]&&(r.timesRequested[e]=0),r.timesRequested[e]++},getGoogleSlotTimesRequested:function(e){var t;return null!==(t=r.timesRequested[e])&&void 0!==t?t:-1},getGoogleSlotForParticipant:function(e){var t;return null!==(t=r.participants[e])&&void 0!==t?t:"unknown"}}},t.identifyParticipant=(n=(0,t._identificationFactory)()).identifyParticipant,t.getSharedIdentifiers=n.getSharedIdentifiers,t.onGoogleSlotRequested=n.onGoogleSlotRequested,t.getGoogleSlotForParticipant=n.getGoogleSlotForParticipant,t.getGoogleSlotTimesRequested=n.getGoogleSlotTimesRequested},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PixelRequestBuilder=t.PixelParamNames=void 0;var n=r(1);!function(e){e.ClientId="cid",e.Ctx="ctx",e.Cmp="cmp",e.EventCategory="ec",e.EventAction="ea",e.PackageVersion="cd105",e.UniqueId="cd160",e.Referrer="cd161",e.CacheBuster="z",e.HitType="t",e.ProtocolVersion="v",e.ErrorDim="cd110",e.NetworkStateDim="cd180",e.FetchDurationMetr="cm180",e.DomainLookupDurationMetr="cm181",e.ConnectioDurationMetr="cm182",e.TlsConnectioDurationMetr="cm183",e.RequestDurationMetr="cm184",e.ResponseDurationMetr="cm185",e.TotalExecutionDurationMetr="cm186",e.SignalIdsMetr="cm170",e.SignalIdsDescriptionDim="cd187",e.SignalIdsDurationMetr="cm187",e.SignalBscDim="cd171",e.SignalBscDescriptionDim="cd188",e.SignalBscDurationMetr="cm188",e.SignalVlpDescriptionDim="cd189",e.SignalVlpDurationMetr="cm189",e.SignalsSlotTargetingDim="cd175",e.AuthDurationMetr="cm190",e.AuthDescriptionDim="cd190",e.ServerDurationMetr="cm191",e.ResponseIdDim="cd191"}(t.PixelParamNames||(t.PixelParamNames={}));var o=function(){function e(e,t){void 0===t&&(t={}),this.url=e,this.baseOptions=t}return e.prototype.getUrl=function(e){var t,r;void 0===e&&(e={});var o=n.__assign(n.__assign({},this.baseOptions),e),i=[];try{for(var a=n.__values(Object.keys(o)),s=a.next();!s.done;s=a.next()){var u=s.value;null!=o[u]&&i.push(u+"="+encodeURIComponent(o[u]))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return this.url+"?"+i.join("&")},e}();t.PixelRequestBuilder=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reportPerformance=void 0;var n=r(1),o=r(6),i=r(0),a=r(10),s=r(4),u=r(15),c=r(16),l=r(8),f=r(49),d=function(e,t){return i.Math.round(t-e)};t.reportPerformance=function(e,t,r){var v=e.src,g=e.headers,p=e.data,_=e.slotTargeting;return n.__awaiter(void 0,void 0,void 0,(function(){var e,h,y,m,S,P,T,b,w;return n.__generator(this,(function(O){switch(O.label){case 0:return(b={})[a.PixelParamNames.EventAction]=t,b[a.PixelParamNames.ResponseIdDim]=null===(w=null==g?void 0:g.get("cf-ray"))||void 0===w?void 0:w.split("-")[0],e=b,i.performance?[4,l.getPerfEntry(v)]:[3,2];case 1:return(h=O.sent())?(m=function(e,t){var r={},n=l.getCacheStatus(e);r[a.PixelParamNames.NetworkStateDim]=n;var o=e.fetchStart,i=e.domainLookupStart,s=e.domainLookupEnd,u=e.connectStart,c=e.secureConnectionStart,f=e.connectEnd,v=e.requestStart,g=e.responseStart,p=e.responseEnd,_=c||f;return r[a.PixelParamNames.FetchDurationMetr]=d(o,p),r[a.PixelParamNames.DomainLookupDurationMetr]=d(i,s),r[a.PixelParamNames.ConnectioDurationMetr]=d(u,_),r[a.PixelParamNames.TlsConnectioDurationMetr]=d(_,f),r[a.PixelParamNames.RequestDurationMetr]=d(v,g),r[a.PixelParamNames.ResponseDurationMetr]=d(g,p),r[a.PixelParamNames.TotalExecutionDurationMetr]=d(o,t),r}(h,r),c.objectAssign(e,m),y=h.serverTiming):e[a.PixelParamNames.NetworkStateDim]="no-entry",[3,3];case 2:e[a.PixelParamNames.NetworkStateDim]="no-api",O.label=3;case 3:return y=y||f.getServerTimingFromHeaders(g),S=function(e,t){var r,i,s={},c=function(r){var n=null==e?void 0:e[r];if(null==n)return"continue";var i=void 0,c=void 0;switch(r){case o.IDS:s[a.PixelParamNames.SignalIdsMetr]=n,i=a.PixelParamNames.SignalIdsDescriptionDim,c=a.PixelParamNames.SignalIdsDurationMetr;break;case o.BSC:Array.isArray(n)&&(s[a.PixelParamNames.SignalBscDim]=n.join(",")),i=a.PixelParamNames.SignalBscDescriptionDim,c=a.PixelParamNames.SignalBscDurationMetr;break;case o.VLP:i=a.PixelParamNames.SignalVlpDescriptionDim,c=a.PixelParamNames.SignalVlpDurationMetr}var l=u.findInArray(t,(function(e){return e.name===r.toLowerCase()}));if(!l)return"continue";var f=l.description,d=l.duration;s[i]=f,s[c]=d};try{for(var l=n.__values(o.ALL_SIGNALS),f=l.next();!f.done;f=l.next()){c(f.value)}}catch(e){r={error:e}}finally{try{f&&!f.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}return s}(p,y),c.objectAssign(e,S),(P=y.find((function(e){return"rauth"===e.name})))&&(e[a.PixelParamNames.AuthDurationMetr]=P.duration,e[a.PixelParamNames.AuthDescriptionDim]=P.description),(T=y.find((function(e){return"total"===e.name})))&&(e[a.PixelParamNames.ServerDurationMetr]=T.duration),_&&(e[a.PixelParamNames.SignalsSlotTargetingDim]=JSON.stringify(_)),s.track(e),[2]}}))}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.windowOrNull=t.topWindowOrNull=t.nullIfThrows=t.getOrSet=void 0;var n=r(25);Object.defineProperty(t,"getOrSet",{enumerable:!0,get:function(){return n.getOrSet}});var o=r(13);Object.defineProperty(t,"nullIfThrows",{enumerable:!0,get:function(){return o.nullIfThrows}});var i=r(26);Object.defineProperty(t,"topWindowOrNull",{enumerable:!0,get:function(){return i.topWindowOrNull}}),Object.defineProperty(t,"windowOrNull",{enumerable:!0,get:function(){return i.windowOrNull}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nullIfThrows=void 0;t.nullIfThrows=function(e){try{return e()}catch(e){return null}}},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.sendMessageToParticipant=t.registerParticipantPort=t._messagingFactory=void 0;t._messagingFactory=function(e){void 0===e&&(e={});return{registerParticipantPort:function(t,r){null==e[t]&&null!=r&&(e[t]=r)},sendMessageToParticipant:function(t,r){var n=e[t];null!=n&&n.postMessage(r)}}},t.registerParticipantPort=(n=(0,t._messagingFactory)()).registerParticipantPort,t.sendMessageToParticipant=n.sendMessageToParticipant},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findInArray=void 0;t.findInArray=Array.prototype.find?function(e,t){return Array.prototype.find.call(e,t)}:function(e,t){for(var r=0;r<e.length;r+=1){if(t(e[r]))return e[r]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.objectAssign=void 0;t.objectAssign=Object.assign||function(e,t){Object.keys(t).reduce((function(e,r){return e[r]=t[r],e}),e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.googletagService=void 0;var n=r(1),o=r(0),i=function(){function e(){this.initGpt()}return e.prototype.initGpt=function(){o.WINDOW.googletag=o.WINDOW.googletag||{},o.WINDOW.googletag.cmd=o.WINDOW.googletag.cmd||[]},e.prototype.getGpt=function(){return o.WINDOW.googletag},e.prototype.setTargeting=function(e,t){var r=this.getGpt();r.cmd.push((function(){r.pubads().setTargeting(e,t)}))},e.prototype.getSlots=function(){var e=this.getGpt();return new Promise((function(t){e.cmd.push((function(){var r=e.pubads().getSlots();t(r)}))}))},e.prototype.getSlotSizes=function(e){var t,r,o=[];try{for(var i=n.__values(e.getSizes()),a=i.next();!a.done;a=i.next()){var s=a.value,u="string"==typeof s?s:s.getWidth()+"x"+s.getHeight();o.push(u)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return o},e}();t.googletagService=new i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.emptyCallback=void 0;t.emptyCallback=function(e,t){}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendRequest=void 0;var n=r(0);t.sendRequest=n.WINDOW.fetch?function(e){var t=n.WINDOW.fetch;return new Promise((function(r,n){t(e,{referrerPolicy:"no-referrer-when-downgrade"}).then((function(e){200!==e.status?e.json().then((function(e){n(e)}),(function(e){return n(e)})):e.json().then((function(t){r({headers:e.headers,body:t})}),(function(e){return n(e)}))}),(function(e){return n(e)}))}))}:function(e){return new Promise((function(t,r){var n=new XMLHttpRequest;n.onload=function(){var e=JSON.parse(n.responseText);t({body:e,headers:{get:function(e){return n.getResponseHeader(e)}}})},n.onerror=function(){r()},n.open("GET",e,!0),n.send()}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSignalsApiUrl=void 0;var n=r(3);t.getSignalsApiUrl=function(e){var t=n.DV_DATA_OBJECT.url+"?ctx="+n.DV_DATA_OBJECT.ctx+"&cmp="+n.DV_DATA_OBJECT.cmp;return e&&(t=t+"&signals="+e.join(",")),t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(22);var n=r(42),o=r(4);!function(){try{n.initGlobalApi()}catch(e){o.onError(e)}}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(23);try{(0,n.main)()}catch(e){}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.main=void 0;var n=r(2),o=r(9),i=r(14),a=r(38),s=r(39),u=function(e,t,r,n){try{(0,i.registerParticipantPort)(e,t),(0,o.identifyParticipant)(e,r),(0,a.sendQueryResponse)(e),(0,s.trackParticipantDiscovery)(e,n)}catch(e){}},c=function(e){var t=e.source,r=e.ports,o=e.data,i=o.participantId,a=o.command,s=o.libraryVersion;null!=i&&null!=a&&a===n.MessageCommand.QUERY&&u(i,r[0],t,s)};t.main=function(){null!=n.windowOrNull&&(n.windowOrNull.addEventListener("message",c),n.windowOrNull.dataTransparencyDirectQuery=u,n.windowOrNull.googletag=n.windowOrNull.googletag||{},googletag.cmd=googletag.cmd||[],googletag.cmd.push((function(){googletag.pubads().addEventListener("slotRequested",(function(e){(0,o.onGoogleSlotRequested)(e.slot.getSlotElementId())}))})))}},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.TRACKING_EVENT_ACTION=t.TRACKING_EVENT_CATEGORY=t.TRACKING_BASE_URL=t.TRACKING_HOSTNAME=t.TRACKING_SAMPLING_RATE=void 0;var o=r(12);t.TRACKING_SAMPLING_RATE=null!==(n=null===o.windowOrNull||void 0===o.windowOrNull?void 0:o.windowOrNull.DATA_TRANSPARENCY_TRACKING_SAMPLING_RATE)&&void 0!==n?n:.001,t.TRACKING_HOSTNAME="vtrk.doubleverify.com",t.TRACKING_BASE_URL="https://"+t.TRACKING_HOSTNAME,t.TRACKING_EVENT_CATEGORY="data-transparency",t.TRACKING_EVENT_ACTION="discovery"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOrSet=void 0;t.getOrSet=function(e,t,r){var n=e[t];return null!=n?n:(e[t]=r,r)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.topWindowOrNull=t._getTopLevelWindow=t.windowOrNull=void 0;var n=r(13);t.windowOrNull="undefined"!=typeof window?window:null;t._getTopLevelWindow=function(e){var r;if(void 0===e&&(e=t.windowOrNull),null==e)return null;var n=null!==(r=e.top)&&void 0!==r?r:e.parent;return e===n?n:(0,t._getTopLevelWindow)(n)},t.topWindowOrNull=(0,n.nullIfThrows)(t._getTopLevelWindow)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageCommand=void 0,function(e){e.QUERY="data-transparency-query",e.QUERY_RESPONSE="data-transparency-query-response"}(t.MessageCommand||(t.MessageCommand={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MockMessagePort=t.MockMessageChannel=t.createIframeWithListener=t.createIframe=void 0;var n=r(29);Object.defineProperty(t,"createIframe",{enumerable:!0,get:function(){return n.createIframe}}),Object.defineProperty(t,"createIframeWithListener",{enumerable:!0,get:function(){return n.createIframeWithListener}});var o=r(30);Object.defineProperty(t,"MockMessageChannel",{enumerable:!0,get:function(){return o.MockMessageChannel}}),Object.defineProperty(t,"MockMessagePort",{enumerable:!0,get:function(){return o.MockMessagePort}})},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.createIframeWithListener=t.createIframe=void 0;t.createIframe=function(e){return void 0===e&&(e=document.body),o(void 0,void 0,void 0,(function(){var t,r;return i(this,(function(n){switch(n.label){case 0:return t=document.createElement("iframe"),r=new Promise((function(e){t.onload=e})),e.appendChild(t),[4,r];case 1:return n.sent(),[2,{frame:t,window:t.contentWindow,destroy:function(){e.removeChild(t)}}]}}))}))};t.createIframeWithListener=function(e){return void 0===e&&(e=document.body),o(void 0,void 0,void 0,(function(){var r,o,a;return i(this,(function(i){switch(i.label){case 0:return[4,(0,t.createIframe)(e)];case 1:return r=i.sent(),a=new Promise((function(e){o=function(t){e(t.data)},r.window.addEventListener("message",o)})),[2,n(n({},r),{receiveMessage:a,destroy:function(){r.window.removeEventListener("message",o),r.destroy()}})]}}))}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MockMessageChannel=t.MockMessagePort=void 0;var n=function(){this.onmessage=jest.fn(),this.onmessageerror=jest.fn(),this.addEventListener=jest.fn(),this.close=jest.fn(),this.dispatchEvent=jest.fn(),this.postMessage=jest.fn(),this.removeEventListener=jest.fn(),this.start=jest.fn()};t.MockMessagePort=n;var o=function(){this.port1=new n,this.port2=new n};t.MockMessageChannel=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.locateParticipant=void 0;var n=r(33);Object.defineProperty(t,"locateParticipant",{enumerable:!0,get:function(){return n.locateParticipant}})},function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.locateParticipant=t._locateParticipantFactory=void 0;var o=r(34),i=r(36),a=r(37);t._locateParticipantFactory=function(e,t,r){return void 0===e&&(e=a.getGoogleSlotDivIds),void 0===t&&(t=i.divContainsWindow),void 0===r&&(r=o.divContainsScript),function(o){var i,a,s;if(null==o)return null;try{s=o instanceof Element?r:t}catch(e){s=t}try{for(var u=n(e()),c=u.next();!c.done;c=u.next()){var l=c.value;if(s(l,o))return l}}catch(e){i={error:e}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}return null}},t.locateParticipant=(0,t._locateParticipantFactory)()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.divContainsScript=void 0;var n=r(5);t.divContainsScript=function(e,t){var r=n.document.getElementById(e);if(null!=r)for(var o=r.getElementsByTagName("script"),i=0;i<o.length;i++)if(o[i]===t)return!0;return!1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="0.1.1"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.divContainsWindow=void 0;var n=r(5),o=["iframe","frame"];t.divContainsWindow=function(e,t){var r=n.document.getElementById(e);if(null!=r){var i=function(e){for(var t=[],r=null,n=e;null!=n&&n!==r;)t.push(n),r=n,n=n.parent;return t}(t);return o.some((function(e){for(var t,n=r.getElementsByTagName(e),o=0;o<n.length;o++)if(i.includes(null===(t=n[o])||void 0===t?void 0:t.contentWindow))return!0;return!1}))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGoogleSlotDivIds=void 0;var n=[];t.getGoogleSlotDivIds=function(){var e,t,r,o,i,a,s;return null!==(s=null===(a=null===(i=null===(o=null===(r=null===(t=null===(e=window.googletag)||void 0===e?void 0:e.pubads)||void 0===t?void 0:t.call(e))||void 0===r?void 0:r.getSlots)||void 0===o?void 0:o.call(r))||void 0===i?void 0:i.map)||void 0===a?void 0:a.call(i,(function(e){var t;return null===(t=e.getSlotElementId)||void 0===t?void 0:t.call(e)})))&&void 0!==s?s:n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendQueryResponse=t._sendQueryResponseFactory=void 0;var n=r(2),o=r(5),i=r(9),a=r(14);t._sendQueryResponseFactory=function(e,t,r){return void 0===e&&(e=a.sendMessageToParticipant),void 0===t&&(t=i.getSharedIdentifiers),void 0===r&&(r={pageUrl:o.pageUrl,userAgent:o.userAgent,tagVersion:o.tagVersion}),function(o){e(o,{command:n.MessageCommand.QUERY_RESPONSE,tagVersion:r.tagVersion,payload:{identifiers:t(o),pageUrl:r.pageUrl,userAgent:r.userAgent}})}},t.sendQueryResponse=(0,t._sendQueryResponseFactory)()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trackParticipantDiscovery=t.trackParticipantDiscoveryFactory=void 0;var n=r(2),o=r(5),i=r(9),a=r(40),s=r(41);t.trackParticipantDiscoveryFactory=function(e,t,r,u,c,l,f,d,v){return void 0===e&&(e=function(){return Math.random()<=n.TRACKING_SAMPLING_RATE}),void 0===t&&(t=i.getSharedIdentifiers),void 0===r&&(r=i.getGoogleSlotForParticipant),void 0===u&&(u=i.getGoogleSlotTimesRequested),void 0===c&&(c=a.getNumberOfGoogleSlots),void 0===l&&(l=o.pageHost),void 0===f&&(f=o.pageUrl),void 0===d&&(d=o.tagVersion),void 0===v&&(v=o.userAgent),e()?function(e,o){var i=t(e),a=i.impression,g=i.visit,p=i.slot,_=r(e),h=u(_),y=c();(0,s.fireTracker)(n.TRACKING_BASE_URL,{ec:n.TRACKING_EVENT_CATEGORY,ea:n.TRACKING_EVENT_ACTION,cid:e,ctx:"missing",cd100:e,cd101:g,cd102:p,cd103:a,cd110:d,cd111:o,cd112:n.TRACKING_SAMPLING_RATE.toString(),cd120:_,cd121:h.toString(),cd129:l,cd130:f,cd131:v,cd132:y.toString(),z:Math.floor(1e12*Math.random()).toString()})}:function(){}},t.trackParticipantDiscovery=(0,t.trackParticipantDiscoveryFactory)()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNumberOfGoogleSlots=void 0;t.getNumberOfGoogleSlots=function(){var e,t,r,n,o,i;return null!==(i=null===(o=null===(n=null===(r=null===(t=null===(e=window.googletag)||void 0===e?void 0:e.pubads)||void 0===t?void 0:t.call(e))||void 0===r?void 0:r.getSlots)||void 0===n?void 0:n.call(r))||void 0===o?void 0:o.length)&&void 0!==i?i:0}},function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.fireTracker=void 0;var o=r(2);t.fireTracker=function(e,t){var r,i=e+"?"+Object.entries(t).map((function(e){var t=n(e,2),r=t[0],o=t[1];return r+"="+encodeURIComponent(o)})).join("&");try{null!=(null===(r=o.windowOrNull.navigator)||void 0===r?void 0:r.sendBeacon)?o.windowOrNull.navigator.sendBeacon(i):(new Image).src=i}catch(e){}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initGlobalApi=void 0;var n=r(1),o=r(43),i=r(6),a=r(3),s=r(0),u=r(10),c=r(4),l=r(11),f=r(17),d=r(50),v=r(56),g=r(16),p=r(8),_=n.__importDefault(r(7)),h=function(e,t){if(a.DV_DATA_OBJECT.ctx&&a.DV_DATA_OBJECT.cmp)a.DV_DATA_OBJECT.doSendSignalsPrefetchedEvent=!0,function(e){var t,r,o;try{for(var s=n.__values(i.GLOBAL_SIGNALS),u=s.next();!u.done;u=s.next()){var c=u.value,l=a.DV_DATA_OBJECT[c];null!=l&&(e[c]=l,(null!==(o=a.DV_DATA_OBJECT.autoInsert)&&void 0!==o?o:a.DV_DATA_OBJECT.gptInsert)&&f.googletagService.setTargeting(c,"number"==typeof l?""+l:l))}}catch(e){t={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}}(t);else{var r=v.getScriptParams(e),o=r.ctx,s=r.cmp;if(!o||!s)throw new Error("ctx and cmp params are missing");a.DV_DATA_OBJECT.ctx=o,a.DV_DATA_OBJECT.cmp=s}};t.initGlobalApi=function(){var e;if(s.PQ&&s.PQ.loaded){var t=((e={})[u.PixelParamNames.EventAction]=i.PT_DUPLICATED_LOAD_EVENT,e);c.track(t)}else{s.PQ.loaded=!0,s.PQ.PTS={},a.DV_DATA_OBJECT.pid=_.default();var r=d.getSignalsPqApi(s.PQ.PTS);g.objectAssign(s.PQ,r);var f,y,m,S=v.getCurrentScriptSrc(i.SCRIPT_PATTERN);h(S,s.PQ.PTS),function(){var e,t,r=[];s.PQ&&Array.isArray(s.PQ.cmd)&&(r=s.PQ.cmd),s.PQ.cmd=o.CMD;try{for(var i=n.__values(r),a=i.next();!a.done;a=i.next()){(0,a.value)()}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}}(),f=S,y=a.DV_DATA_OBJECT.doSendSignalsPrefetchedEvent?i.PT_ON_LOAD_WITH_SIGNALS_EVENT:i.PT_ON_LOAD_EVENT,m=p.getExecTime(),setTimeout((function(){l.reportPerformance({src:f,data:a.DV_DATA_OBJECT},y,m)}),0)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CMD=void 0,t.CMD={push:function(e){if("function"!=typeof e)throw Error("Command passed to PQ.cmd have to be a function");try{e()}catch(e){console.error(e.message)}}}},function(e,t,r){(function(t,r){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */var n;n=function(){"use strict";function e(e){return"function"==typeof e}var n=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=0,i=void 0,a=void 0,s=function(e,t){g[o]=e,g[o+1]=t,2===(o+=2)&&(a?a(p):S())},u="undefined"!=typeof window?window:void 0,c=u||{},l=c.MutationObserver||c.WebKitMutationObserver,f="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),d="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function v(){var e=setTimeout;return function(){return e(p,1)}}var g=new Array(1e3);function p(){for(var e=0;e<o;e+=2)(0,g[e])(g[e+1]),g[e]=void 0,g[e+1]=void 0;o=0}var _,h,y,m,S=void 0;function P(e,t){var r=this,n=new this.constructor(w);void 0===n[b]&&C(n);var o=r._state;if(o){var i=arguments[o-1];s((function(){return L(o,n,i,r._result)}))}else N(r,n,e,t);return n}function T(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(w);return A(t,e),t}f?S=function(){return t.nextTick(p)}:l?(h=0,y=new l(p),m=document.createTextNode(""),y.observe(m,{characterData:!0}),S=function(){m.data=h=++h%2}):d?((_=new MessageChannel).port1.onmessage=p,S=function(){return _.port2.postMessage(0)}):S=void 0===u?function(){try{var e=Function("return this")().require("vertx");return void 0!==(i=e.runOnLoop||e.runOnContext)?function(){i(p)}:v()}catch(e){return v()}}():v();var b=Math.random().toString(36).substring(2);function w(){}function O(t,r,n){r.constructor===t.constructor&&n===P&&r.constructor.resolve===T?function(e,t){1===t._state?I(e,t._result):2===t._state?E(e,t._result):N(t,void 0,(function(t){return A(e,t)}),(function(t){return E(e,t)}))}(t,r):void 0===n?I(t,r):e(n)?function(e,t,r){s((function(e){var n=!1,o=function(e,t,r,n){try{e.call(t,r,n)}catch(e){return e}}(r,t,(function(r){n||(n=!0,t!==r?A(e,r):I(e,r))}),(function(t){n||(n=!0,E(e,t))}),e._label);!n&&o&&(n=!0,E(e,o))}),e)}(t,r,n):I(t,r)}function A(e,t){if(e===t)E(e,new TypeError("You cannot resolve a promise with itself"));else if(o=typeof(n=t),null===n||"object"!==o&&"function"!==o)I(e,t);else{var r=void 0;try{r=t.then}catch(t){return void E(e,t)}O(e,t,r)}var n,o}function D(e){e._onerror&&e._onerror(e._result),x(e)}function I(e,t){void 0===e._state&&(e._result=t,e._state=1,0!==e._subscribers.length&&s(x,e))}function E(e,t){void 0===e._state&&(e._state=2,e._result=t,s(D,e))}function N(e,t,r,n){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+1]=r,o[i+2]=n,0===i&&e._state&&s(x,e)}function x(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var n=void 0,o=void 0,i=e._result,a=0;a<t.length;a+=3)n=t[a],o=t[a+r],n?L(r,n,o,i):o(i);e._subscribers.length=0}}function L(t,r,n,o){var i=e(n),a=void 0,s=void 0,u=!0;if(i){try{a=n(o)}catch(e){u=!1,s=e}if(r===a)return void E(r,new TypeError("A promises callback cannot return that same promise."))}else a=o;void 0!==r._state||(i&&u?A(r,a):!1===u?E(r,s):1===t?I(r,a):2===t&&E(r,a))}var M=0;function C(e){e[b]=M++,e._state=void 0,e._result=void 0,e._subscribers=[]}var j=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(w),this.promise[b]||C(this.promise),n(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?I(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&I(this.promise,this._result))):E(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;void 0===this._state&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var r=this._instanceConstructor,n=r.resolve;if(n===T){var o=void 0,i=void 0,a=!1;try{o=e.then}catch(e){a=!0,i=e}if(o===P&&void 0!==e._state)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(r===V){var s=new r(w);a?E(s,i):O(s,e,o),this._willSettleAt(s,t)}else this._willSettleAt(new r((function(t){return t(e)})),t)}else this._willSettleAt(n(e),t)},e.prototype._settledAt=function(e,t,r){var n=this.promise;void 0===n._state&&(this._remaining--,2===e?E(n,r):this._result[t]=r),0===this._remaining&&I(n,this._result)},e.prototype._willSettleAt=function(e,t){var r=this;N(e,void 0,(function(e){return r._settledAt(1,t,e)}),(function(e){return r._settledAt(2,t,e)}))},e}(),V=function(){function t(e){this[b]=M++,this._result=this._state=void 0,this._subscribers=[],w!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t((function(t){A(e,t)}),(function(t){E(e,t)}))}catch(t){E(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var r=this.constructor;return e(t)?this.then((function(e){return r.resolve(t()).then((function(){return e}))}),(function(e){return r.resolve(t()).then((function(){throw e}))})):this.then(t,t)},t}();return V.prototype.then=P,V.all=function(e){return new j(this,e).promise},V.race=function(e){var t=this;return n(e)?new t((function(r,n){for(var o=e.length,i=0;i<o;i++)t.resolve(e[i]).then(r,n)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))},V.resolve=T,V.reject=function(e){var t=new this(w);return E(t,e),t},V._setScheduler=function(e){a=e},V._setAsap=function(e){s=e},V._asap=s,V.polyfill=function(){var e=void 0;if(void 0!==r)e=r;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=V},V.Promise=V,V},e.exports=n()}).call(this,r(45),r(46))},function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var u,c=[],l=!1,f=-1;function d(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&v())}function v(){if(!l){var e=s(d);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function p(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new g(e,t)),1!==c.length||l||s(v)},g.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=p,o.addListener=p,o.once=p,o.off=p,o.removeListener=p,o.removeAllListeners=p,o.emit=p,o.prependListener=p,o.prependOnceListener=p,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0);t.default=function(e){n.navigator.sendBeacon?n.navigator.sendBeacon(e):(new Image).src=e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0);t.default=function(){return n.Math.floor(1e12*n.Math.random())}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getServerTimingFromHeaders=void 0;var n=r(1);t.getServerTimingFromHeaders=function(e){var t=null==e?void 0:e.get("Server-Timing");return t?function(e){var t,r,o,i,a=[];try{for(var s=n.__values(e.split(", ")),u=s.next();!u.done;u=s.next()){var c=u.value.split(";"),l={};try{for(var f=(o=void 0,n.__values(c)),d=f.next();!d.done;d=f.next()){var v=d.value;v.startsWith("desc=")?l.description=v.substring("desc=".length):v.startsWith("dur=")?l.duration=v.substring("dur=".length):l.name=v}}catch(e){o={error:e}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(o)throw o.error}}a.push(l)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return a}(t):[]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSignalsPqApi=void 0;var n,o=r(51);t.getSignalsPqApi=function(e,t){void 0===t&&(t="gam");var r={},i=new o.ExecutionManagerResolver(e);return n=i.getExecutionManager(t),r.init=function(e){var t=e.adServerType;if(null==t)throw Error("adServerType has to be specified");n=i.getExecutionManager(t)},r.loadSignals=function(e,t){return n.loadSignals(e,t)},r.loadSignalsForSlots=function(e,t,r){return n.loadSignalsForSlots(e,t,r)},r.getTargeting=function(e,t){return n.getTargeting(e,t)},r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExecutionManagerResolver=void 0;var n=r(52),o=r(54),i=function(){function e(e){this.PTS=e}return Object.defineProperty(e.prototype,"signalsManagerGam",{get:function(){return this._signalsManagerGam||(this._signalsManagerGam=new n.SignalsManagerGam(this.PTS)),this._signalsManagerGam},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"signalsManagerXandr",{get:function(){return this._signalsManagerXandr||(this._signalsManagerXandr=new o.SignalsManagerXandr(this.PTS)),this._signalsManagerXandr},enumerable:!1,configurable:!0}),e.prototype.getExecutionManager=function(e){switch(e.toLowerCase()){case"gam":return this.signalsManagerGam;case"xandr":return this.signalsManagerXandr;default:throw Error("Ad Server "+e+" is not supported")}},e}();t.ExecutionManagerResolver=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignalsManagerGam=void 0;var n=r(1),o=r(6),i=r(3),a=r(0),s=r(4),u=r(11),c=r(18),l=r(8),f=r(19),d=r(53),v=n.__importDefault(r(7)),g=r(20),p=r(17),_=function(){function e(e){void 0===e&&(e={}),this.PTS=e,this.SLOT_IDS={},p.googletagService.setTargeting(o.QT_PAGE_ID_KEY,i.DV_DATA_OBJECT.pid)}return e.prototype.getSlotParamString=function(e){var t,r;void 0===e&&(e=[]);var o=[];try{for(var i=n.__values(e),a=i.next();!a.done;a=i.next()){var s=a.value;if(void 0!==s){var u=s.getAdUnitPath(),c=p.googletagService.getSlotSizes(s),l=this.getSlotSizesString(c),f=this.getAdUnitParam(u,l);o.push(f)}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return o.filter(d.uniqueFilter).join("&")},e.prototype.getSlotSizesString=function(e){return e.length>0?e.sort().join(","):"all"},e.prototype.getAdUnitsParamString=function(e){var t,r,o=[];try{for(var i=n.__values(e),a=i.next();!a.done;a=i.next()){var s=a.value,u=this.getAdUnitParam(s.adUnitPath,s.sizes);o.push(u)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return o.filter(d.uniqueFilter).join("&")},e.prototype.getAdUnitParam=function(e,t){return"adunits["+e+"][]="+t},e.prototype.setSignalsTargeting=function(e,t,r){var n=this;void 0===r&&(r=c.emptyCallback);var i=p.googletagService.getGpt();i.cmd.push((function(){o.ALL_SIGNALS.forEach((function(r){var a=e[r];if(void 0!==a)switch(r){case o.IDS:case o.BSC:i.pubads().setTargeting(r,"number"==typeof a?""+a:a);break;case o.VLP:n.setVLPTargeting(a,i.pubads().getSlots(),t);break;case o.TVP:n.setTVPTargeting(a,i.pubads().getSlots(),t)}})),r()}))},e.prototype.setVLPTargeting=function(e,t,r){this.setPredictionSignalTargeting(e,t,r,o.VLP)},e.prototype.setTVPTargeting=function(e,t,r){this.setPredictionSignalTargeting(e,t,r,o.TVP)},e.prototype.setPredictionSignalTargeting=function(e,t,r,i){var a,s;try{for(var u=n.__values(t),c=u.next();!c.done;c=u.next()){var l=c.value;if(void 0!==l){var f=l.getAdUnitPath();if(e&&e[f]){var d=p.googletagService.getSlotSizes(l),g=this.getSlotSizesString(d),_=e[f][g];if(null!=_){var h=l.getSlotId().getId();this.SLOT_IDS[h]=this.SLOT_IDS[h]||v.default();var y=this.SLOT_IDS[h];r&&(r[y]=r[y]||{},r[y][i]=_),l.setTargeting(i,_),l.setTargeting(o.QT_SLOT_ID_KEY,y)}}}}}catch(e){a={error:e}}finally{try{c&&!c.done&&(s=u.return)&&s.call(u)}finally{if(a)throw a.error}}},e.prototype.processNewSlots=function(e){var t,r,o=[],i=[];if(!this.PTS.VLP)return{newSlots:e,existingSlots:i};try{for(var a=n.__values(e),s=a.next();!s.done;s=a.next()){var u=s.value;if(void 0!==u){var c=u.getAdUnitPath(),l=this.PTS.VLP[c];if(l)l[""+p.googletagService.getSlotSizes(u).sort().join(",")]||o.push(u),i.push(u);else o.push(u)}}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return{newSlots:o,existingSlots:i}},e.prototype.getSignalData=function(e){return this.PTS[e]||{}},e.prototype.setSignalsDataToState=function(e){var t,r;try{for(var i=n.__values(Object.keys(e)),a=i.next();!a.done;a=i.next()){var s=a.value,u=e[s];switch(s){case o.IDS:this.PTS[o.IDS]=u;break;case o.BSC:this.PTS[o.BSC]=u;break;case o.VLP:this.addPredictionSignalToPTS(o.VLP,u);break;case o.TVP:this.addPredictionSignalToPTS(o.TVP,u)}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},e.prototype.addPredictionSignalToPTS=function(e,t){var r,o,i,a;if(this.PTS[e])try{for(var s=n.__values(Object.keys(t)),u=s.next();!u.done;u=s.next()){var c=u.value,l=this.PTS[e][c];if(l)try{for(var f=(i=void 0,n.__values(Object.keys(t[c]))),d=f.next();!d.done;d=f.next()){var v=d.value;l[v]=t[c][v]}}catch(e){i={error:e}}finally{try{d&&!d.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}else this.PTS[e][c]=t[c]}}catch(e){r={error:e}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}else this.PTS[e]=t},e.prototype.loadSignals=function(e,t){var r,d;return void 0===t&&(t=c.emptyCallback),n.__awaiter(this,void 0,void 0,(function(){var c,v,_,h,y,m,S,P,T,b,w,O,A=this;return n.__generator(this,(function(n){switch(n.label){case 0:return n.trys.push([0,4,,5]),c=Array.isArray(e)?e:e.signals,v=c.filter((function(e){var t=o.GLOBAL_SIGNALS.indexOf(e.toUpperCase())>-1,r=Object.prototype.hasOwnProperty.call(A.PTS,e.toUpperCase());return!(t&&r)})),_=g.getSignalsApiUrl(v),(h=a.WINDOW.location.href)&&(_=_+"&url="+encodeURIComponent(h)),v.some((function(e){return o.SLOT_SIGNALS.indexOf(e.toUpperCase())>-1}))?[4,p.googletagService.getSlots()]:[3,2];case 1:y=n.sent(),(m=this.getSlotParamString(y))&&(_=_+"&"+m),n.label=2;case 2:return[4,f.sendRequest(_)];case 3:return S=n.sent(),P=S.body,T=S.headers,i.DV_DATA_OBJECT.autoInsert=null!==(r=P.autoInsert)&&void 0!==r?r:P.gptInsert,this.setSignalsDataToState(P),b={},(null!==(d=P.autoInsert)&&void 0!==d?d:P.gptInsert)?this.setSignalsTargeting(P,b,t):t(),w=l.getExecTime(),setTimeout((function(){u.reportPerformance({src:_,headers:T,data:P,slotTargeting:b},o.LOAD_SIGNALS_CALL_EVENT,w)}),0),[3,5];case 4:return O=n.sent(),t(O),s.onError(O),[3,5];case 5:return[2]}}))}))},e.prototype.loadSignalsForSlots=function(e,t,r){var a,d;return void 0===r&&(r=c.emptyCallback),n.__awaiter(this,void 0,void 0,(function(){var c,v,p,_,h,y,m,S,P,T,b,w,O,A;return n.__generator(this,(function(n){switch(n.label){case 0:c=Array.isArray(t)?t:o.SLOT_SIGNALS,v="function"==typeof t?t:r,n.label=1;case 1:return n.trys.push([1,3,,4]),p=this.processNewSlots(e),_=p.newSlots,h=p.existingSlots,y={},(null!==(a=null===i.DV_DATA_OBJECT||void 0===i.DV_DATA_OBJECT?void 0:i.DV_DATA_OBJECT.autoInsert)&&void 0!==a?a:null===i.DV_DATA_OBJECT||void 0===i.DV_DATA_OBJECT?void 0:i.DV_DATA_OBJECT.gptInsert)&&(this.setVLPTargeting(this.getSignalData(o.VLP),h,y),this.setTVPTargeting(this.getSignalData(o.TVP),h,y)),0===_.length?(v(),[2]):(m=c.filter((function(e){return!Object.prototype.hasOwnProperty.call(i.DV_DATA_OBJECT,e.toUpperCase())})),S=g.getSignalsApiUrl(m),(P=this.getSlotParamString(_))&&(S=S+"&"+P),[4,f.sendRequest(S)]);case 2:return T=n.sent(),b=T.body,w=T.headers,this.setSignalsDataToState(b),(null!==(d=b.autoInsert)&&void 0!==d?d:b.gptInsert)?this.setSignalsTargeting(b,y,v):v(),O=l.getExecTime(),setTimeout((function(){u.reportPerformance({src:S,headers:w,data:b,slotTargeting:y},o.LOAD_SIGNALS_FOR_SLOTS_CALL_EVENT,O)}),0),[3,4];case 3:return A=n.sent(),v(A),s.onError(A),[3,4];case 4:return[2]}}))}))},e.prototype.getTargeting=function(e,t){var r;return void 0===t&&(t=c.emptyCallback),n.__awaiter(this,void 0,void 0,(function(){var a,c,d,v,p,_,h,y,m,S,P,T,b,w,O,A,D,I=this;return n.__generator(this,(function(E){switch(E.label){case 0:if(E.trys.push([0,3,,4]),a=e.signals,c=e.adUnits,!a)throw new Error("No signals are specified");d=[],v={};try{for(p=n.__values(a),_=p.next();!_.done;_=p.next())h=_.value,y=h.toUpperCase(),o.GLOBAL_SIGNALS.indexOf(y.toUpperCase())>-1&&Object.prototype.hasOwnProperty.call(this.PTS,y)?v[y]=this.PTS[y]:d.push(h)}catch(e){A={error:e}}finally{try{_&&!_.done&&(D=p.return)&&D.call(p)}finally{if(A)throw A.error}}return d.length>0?(m=g.getSignalsApiUrl(d),c&&(S=this.getAdUnitsParamString(c))&&(m=m+"&"+S),[4,f.sendRequest(m)]):[3,2];case 1:P=E.sent(),T=P.body,b=P.headers,i.DV_DATA_OBJECT.autoInsert=null!==(r=T.autoInsert)&&void 0!==r?r:T.gptInsert,d.forEach((function(e){var t=e.toUpperCase(),r=T[t];void 0!==r&&(v[t]=r)})),this.setSignalsDataToState(T),w=l.getExecTime(),setTimeout((function(){u.reportPerformance({src:m,headers:b,data:T,slotTargeting:I.getSlotTargetingForPerf(T)},o.LOAD_SIGNALS_CALL_EVENT,w)}),0),E.label=2;case 2:return t(void 0,v),[3,4];case 3:return O=E.sent(),t(O),s.onError(O),[3,4];case 4:return[2]}}))}))},e.prototype.getSlotTargetingForPerf=function(e){var t,r,o,i,a,s,u,c,l={};try{if(e.VLP)try{for(var f=n.__values(Object.keys(e.VLP)),d=f.next();!d.done;d=f.next()){var g=d.value;try{for(var p=(o=void 0,n.__values(Object.keys(e.VLP[g]))),_=p.next();!_.done;_=p.next()){var h=_.value;l[v.default()]={VLP:e.VLP[g][h]}}}catch(e){o={error:e}}finally{try{_&&!_.done&&(i=p.return)&&i.call(p)}finally{if(o)throw o.error}}}}catch(e){t={error:e}}finally{try{d&&!d.done&&(r=f.return)&&r.call(f)}finally{if(t)throw t.error}}if(e.TVP)try{for(var y=n.__values(Object.keys(e.TVP)),m=y.next();!m.done;m=y.next()){g=m.value;try{for(var S=(u=void 0,n.__values(Object.keys(e.TVP[g]))),P=S.next();!P.done;P=S.next()){h=P.value;l[v.default()]={TVP:e.TVP[g][h]}}}catch(e){u={error:e}}finally{try{P&&!P.done&&(c=S.return)&&c.call(S)}finally{if(u)throw u.error}}}}catch(e){a={error:e}}finally{try{m&&!m.done&&(s=y.return)&&s.call(y)}finally{if(a)throw a.error}}}catch(e){}return l},e}();t.SignalsManagerGam=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uniqueFilter=void 0;t.uniqueFilter=function(e,t,r){return r.indexOf(e)===t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignalsManagerXandr=void 0;var n=r(1),o=r(6),i=r(3),a=r(0),s=r(4),u=r(11),c=r(18),l=r(8),f=r(19),d=n.__importDefault(r(7)),v=r(20),g=r(55),p=function(){function e(e){void 0===e&&(e={}),this.PTS=e,this.SLOT_IDS={},this.getAdUnitId=function(e){if(e.tagId)return"tagid-"+e.tagId;if(e.invCode)return"invcode-"+e.invCode;throw Error("tagId or invCode should be specified")},this.setApnTargeting=function(e){var t,r,o,i,a=g.apntagService.getApn();if(Object.keys(e.slot).length>0)try{for(var s=n.__values(Object.keys(e.slot)),u=s.next();!u.done;u=s.next()){var c=u.value;a.setKeywords(c,n.__assign(n.__assign({},e.global),e.slot[c]),{overrideKeyValue:!0})}}catch(e){t={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}else{var l=a.getTag();try{for(var f=n.__values(Object.keys(l)),d=f.next();!d.done;d=f.next()){c=d.value;a.setKeywords(c,n.__assign(n.__assign({},e.global),e.slot[c]),{overrideKeyValue:!0})}}catch(e){o={error:e}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(o)throw o.error}}}},this.PAGE_ID=d.default()}return e.prototype.getAdTagParam=function(e,t){return"adunits["+e+"][]="+t},e.prototype.getSignalsTargeting=function(e,t){var r={global:{},slot:{}};return o.GLOBAL_SIGNALS.forEach((function(t){var n=e[t];if(void 0!==n)switch(t){case o.IDS:case o.BSC:r.global[t]="number"==typeof n?""+n:n}})),r.global[o.QT_PAGE_ID_KEY]=this.PAGE_ID,t&&t.length&&(r.slot=this.getPredictionSignalTargeting(e,t)),r},e.prototype.getPredictionSignalTargeting=function(e,t){var r,i,a,s={},u=g.apntagService.getApn();try{for(var c=n.__values(t),l=c.next();!l.done;l=c.next()){var f=l.value,v=this.getAdUnitId(f),p=u.getTag(f.targetId),_=g.apntagService.getAdTagSizesString(p.sizes);this.SLOT_IDS[f.targetId]=this.SLOT_IDS[f.targetId]||d.default();var h=this.SLOT_IDS[f.targetId];s[f.targetId]=((a={})[o.VLP]=e[o.VLP][v][_],a[o.TVP]=e[o.TVP][v][_],a[o.QT_SLOT_ID_KEY]=h,a)}}catch(e){r={error:e}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}return s},e.prototype.setSignalsDataToState=function(e,t){var r,i;try{for(var a=n.__values(o.ALL_SIGNALS),s=a.next();!s.done;s=a.next()){var u=s.value;switch(u){case o.IDS:t[o.IDS]=e.global[u];break;case o.BSC:t[o.BSC]=e.global[u];break;case o.VLP:case o.TVP:this.addPredictionSignalToPTS(e.slot,t)}}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}},e.prototype.addPredictionSignalToPTS=function(e,t){var r,o,i,a;try{for(var s=n.__values(Object.keys(e)),u=s.next();!u.done;u=s.next()){var c=u.value,l=e[c];try{for(var f=(i=void 0,n.__values(Object.keys(l))),d=f.next();!d.done;d=f.next()){var v=d.value;t[v]=t[v]||{},t[v][c]=e[c][v]}}catch(e){i={error:e}}finally{try{d&&!d.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}}}catch(e){r={error:e}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}},e.prototype.loadSignals=function(e,t){var r,d,p,_=e.signals,h=e.adUnits,y=e.autoInsert,m=void 0===y||y;return void 0===t&&(t=c.emptyCallback),n.__awaiter(this,void 0,void 0,(function(){var e,c,y,S,P,T,b,w,O,A,D,I,E,N,x,L,M,C,j,V,G,R,k,B,W,U,q=this;return n.__generator(this,(function(F){switch(F.label){case 0:return F.trys.push([0,4,,5]),e=_.filter((function(e){return!(Object.prototype.hasOwnProperty.call(q.PTS,e.toUpperCase())&&o.GLOBAL_SIGNALS.indexOf(e.toUpperCase())>-1)})),c=v.getSignalsApiUrl(e),(y=a.WINDOW.location.href)&&(c=c+"&url="+encodeURIComponent(y)),h&&h.length?[4,g.apntagService.getApnAdTags()]:[3,2];case 1:S=F.sent();try{for(P=n.__values(h),T=P.next();!T.done;T=P.next())b=T.value,w=b.targetId,O=null===(r=S[w])||void 0===r?void 0:r.sizes,A=g.apntagService.getAdTagSizesString(O),D=this.getAdUnitId(b),I=this.getAdTagParam(D,A),c=c+"&"+I}catch(e){k={error:e}}finally{try{T&&!T.done&&(B=P.return)&&B.call(P)}finally{if(k)throw k.error}}F.label=2;case 2:return[4,f.sendRequest(c)];case 3:E=F.sent(),N=E.body,x=E.headers,i.DV_DATA_OBJECT.autoInsert=null!==(d=N.autoInsert)&&void 0!==d?d:N.gptInsert,L=this.getSignalsTargeting(N,h);try{for(M=n.__values(o.GLOBAL_SIGNALS),C=M.next();!C.done;C=M.next())j=C.value,_.indexOf(j.toLowerCase())>-1&&(L.global[j]=L.global[j]||this.PTS[j])}catch(e){W={error:e}}finally{try{C&&!C.done&&(U=M.return)&&U.call(M)}finally{if(W)throw W.error}}return m&&(null!==(p=N.autoInsert)&&void 0!==p?p:N.gptInsert)&&this.setApnTargeting(L),this.setSignalsDataToState(L,this.PTS),V={},this.setSignalsDataToState(L,V),G=l.getExecTime(),t(void 0,V),setTimeout((function(){u.reportPerformance({src:c,headers:x,data:N,slotTargeting:{}},o.LOAD_SIGNALS_CALL_EVENT,G)}),0),[3,5];case 4:return R=F.sent(),t(R),s.onError(R),[3,5];case 5:return[2]}}))}))},e.prototype.loadSignalsForSlots=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];throw new Error("loadSignalsForSlots is not aplicable for Xandr")},e.prototype.getTargeting=function(e,t){void 0===t&&(t=c.emptyCallback);var r=n.__assign(n.__assign({},e),{autoInsert:!1});return this.loadSignals(r,t)},e}();t.SignalsManagerXandr=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.apntagService=void 0;var n=r(1),o=r(0),i=function(){function e(){var e=this;this.getApnAdTags=function(){var t=e.getApn();return new Promise((function(e){t.anq.push((function(){var r=t.getTag();e(r)}))}))},this.initApn()}return e.prototype.initApn=function(){o.WINDOW.apntag=o.WINDOW.apntag||{},o.WINDOW.apntag.anq=o.WINDOW.apntag.anq||[]},e.prototype.getApn=function(){return o.WINDOW.apntag},e.prototype.getAdTagSizesString=function(e){var t,r;if(e&&e.length>0){if(Array.isArray(e[0])){var o=[];try{for(var i=n.__values(e),a=i.next();!a.done;a=i.next()){var s=a.value;2===s.length&&o.push(s[0]+"x"+s[1])}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return o.sort().join(",")||"all"}if(2===e.length)return e[0]+"x"+e[1]}return"all"},e}();t.apntagService=new i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getScriptParams=t.getCurrentScriptSrc=void 0;t.getCurrentScriptSrc=function(e){return document.currentScript?document.currentScript.getAttribute("src"):n(e)};var n=function(e){for(var t=document.getElementsByTagName("script"),r=0;r<t.length;r+=1){var n=t[r].getAttribute("src");if(e.test(n))return n}throw new Error("Page Tag script not found on the page")};t.getScriptParams=function(e){void 0===e&&(e="");var t=e.split("#")[1];return o(t)};var o=function(e){void 0===e&&(e="");for(var t={},r=e.split("&"),n=0;n<r.length;n+=1){var o=r[n].split("="),i=decodeURIComponent(o[0]),a=decodeURIComponent(o[1]);t[i]=a}return t}}]);